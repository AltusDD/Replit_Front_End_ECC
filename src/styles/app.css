/* src/styles/app.css */

/* --- Layout --- */
.ecc-main {
  margin-left: var(--sidebar-w);
  padding: 24px;
  min-height: 100vh;
  background: var(--bg);
}

/* --- Sidebar container --- */
.ecc-sidebar {
  position: fixed;
  inset: 0 auto 0 0;
  width: var(--sidebar-w);
  background: var(--panel);
  border-right: 1px solid var(--border);
  z-index: 40;
  transition: width .2s ease;
}
.ecc-sidebar.is-collapsed { width: var(--sidebar-w-collapsed); }

.ecc-sidebar__inner {
  height: 100%;
  overflow: auto;
  padding: 18px 16px 72px;
}

/* --- Brand / Logo --- */
.ecc-brand {
  display: flex; align-items: center; justify-content: center;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), transparent);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  height: 92px;
  margin-bottom: 18px;
}
.ecc-brand__img {
  max-height: 64px; width: auto; object-fit: contain;
  filter: brightness(1.25) contrast(1.1);
}
.ecc-sidebar.is-collapsed .ecc-brand { height: 72px; }
.ecc-sidebar.is-collapsed .ecc-brand__img { max-height: 40px; }

/* --- Section headings --- */
.ecc-section { margin: 18px 0 8px; }
.ecc-section__label {
  color: var(--ink-2);
  font-weight: 700;
  letter-spacing: .12em;
  font-size: 12px;
  text-transform: uppercase;
  margin: 8px 0 10px;
  position: relative;
  padding-left: 20px;
}
.ecc-section__label::before {
  content: "";
  position: absolute;
  left: 0; top: 50%; transform: translateY(-50%);
  width: 12px; height: 3px; border-radius: 3px;
  background: var(--accent);
}

/* --- Link list --- */
.ecc-list { list-style: none; padding: 0; margin: 0; }
.ecc-list__item { margin-bottom: 10px; }

/* --- Links --- */
.ecc-link {
  display: flex; align-items: center; gap: 10px;
  width: 100%;
  padding: 14px 14px;
  border-radius: var(--radius-sm);
  background: var(--panel-2);
  color: var(--ink-2);
  border: 1px solid transparent;
  text-decoration: none;
  transition: background .15s ease, border-color .15s ease, color .15s ease;
}
.ecc-link:hover {
  background: rgba(214,179,106,0.08);
  border-color: rgba(214,179,106,0.22);
  color: var(--ink-1);
}
.ecc-link.is-active {
  background: rgba(214,179,106,0.14);
  border-color: rgba(214,179,106,0.35);
  color: var(--ink-1);
  box-shadow: 0 0 0 1px rgba(214,179,106,0.18) inset, 0 6px 18px rgba(0,0,0,0.35);
}
.ecc-link__icon {
  color: var(--ink-2); /* icons follow currentColor */
}
.ecc-link:hover .ecc-link__icon,
.ecc-link.is-active .ecc-link__icon { color: var(--accent); }
.ecc-link__label { flex: 1 1 auto; }
.ecc-link__chev { margin-left: auto; color: var(--ink-3); }

/* --- Parent (accordion) --- */
.ecc-parent .ecc-children {
  max-height: 0; overflow: hidden;
  transition: max-height .25s ease;
  margin-top: 8px; padding-left: 0;
}
.ecc-parent.is-open .ecc-children { max-height: 800px; } /* large enough */
.ecc-children li { margin-bottom: 8px; }

/* --- Collapsed flyout --- */
.ecc-sidebar.is-collapsed .ecc-link .ecc-link__label { display: none; }
.ecc-sidebar.is-collapsed .ecc-link { justify-content: center; padding: 12px; }
.ecc-sidebar.is-collapsed .ecc-parent { position: relative; }
.ecc-sidebar.is-collapsed .ecc-flyout {
  position: absolute; left: calc(100% + 10px); top: -6px;
  min-width: 240px; display: none;
  background: var(--panel-2);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 10px;
  box-shadow: 0 14px 36px rgba(0,0,0,.5);
}
.ecc-sidebar.is-collapsed .group:hover .ecc-flyout { display: block; }
.ecc-flyout__title {
  display: flex; align-items: center; gap: 8px;
  color: var(--ink-1); margin-bottom: 8px;
}

/* --- Collapse control button --- */
.ecc-collapse-ctl {
  position: fixed;
  left: 8px; bottom: 10px;
  width: 38px; height: 38px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--panel-2);
  color: var(--ink-1);
  display: grid; place-items: center;
}
.ecc-collapse-ctl:hover { border-color: rgba(214,179,106,0.35); }

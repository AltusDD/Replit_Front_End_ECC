/* ────────────────────────────────────────────────────────────────
   ECC NAV: hard override that fixes bullets, spacing, scroll,
   collapsed/flyout alignment, and restores the black panel look.
   This is markup-agnostic and safe to drop in.
   ──────────────────────────────────────────────────────────────── */

:root{
  /* Keep your theme tokens consistent here */
  --bg: #0E0F10;          /* pure black panel */
  --panel: #0F1114;       /* slightly lighter for cards */
  --text: #E6E8EA;        /* main text */
  --muted: #9AA4AF;       /* secondary text */
  --line: #24272B;        /* hairline */
  --gold: #FFD400;        /* brand gold */
  --sidebar-w: 296px;
  --sidebar-w-collapsed: 76px;
}

/* Base shell rules (do not change your layout JS) */
html, body, #root { height: 100%; }
.app-shell, .layout {
  height: 100vh !important;
  overflow: hidden !important;                    /* independent scroll */
  background: var(--bg) !important;
}

/* Sidebar panel */
.sidebar, [data-role="sidebar"] {
  background: var(--bg) !important;
  color: var(--text) !important;
  border-right: 1px solid var(--line) !important;
}

/* Remove native list bullets and gutter everywhere inside the sidebar */
.sidebar nav, [data-role="sidebar"] nav,
.sidebar [data-nav], [data-role="sidebar"] [data-nav]{
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

.sidebar nav ul, [data-role="sidebar"] nav ul,
.sidebar ul, [data-role="sidebar"] ul,
.sidebar li, [data-role="sidebar"] li{
  list-style: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

/* Independent scroll (wheel works, scrollbar hidden) */
.sidebar-scroll{
  height: calc(100vh - 0px) !important;
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch !important;
  overscroll-behavior: contain !important;
  scrollbar-width: none !important;               /* Firefox */
}
.sidebar-scroll::-webkit-scrollbar{ display: none !important; } /* WebKit */

/* Section headings */
.sidebar .section-title,
[data-role="sidebar"] .section-title{
  color: var(--muted) !important;
  font-weight: 700 !important;
  letter-spacing: .06em !important;
  font-size: 12px !important;
  margin: 16px 16px 8px !important;
  text-transform: uppercase !important;
}

/* Row grid: icon | label | chevron */
:root{ --nav-icon: 18px; --nav-gap: 10px; --nav-pad-x: 14px; }

.sidebar .nav-row,
[data-role="sidebar"] .nav-row{
  display: grid !important;
  grid-template-columns: var(--nav-icon) minmax(0,1fr) auto !important;
  align-items: center !important;
  column-gap: var(--nav-gap) !important;
  padding: 8px var(--nav-pad-x) !important;
  border-radius: 10px !important;
  text-decoration: none !important;
  color: var(--text) !important;
}

.sidebar .nav-row .icon,
[data-role="sidebar"] .nav-row .icon{
  width: var(--nav-icon) !important;
  min-width: var(--nav-icon) !important;
  color: var(--gold) !important;
}

.sidebar .nav-row .label,
[data-role="sidebar"] .nav-row .label{
  min-width: 0 !important;
  margin: 0 !important;
  text-indent: 0 !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* Hover/active */
.sidebar .nav-row:hover,
[data-role="sidebar"] .nav-row:hover{
  background: #17181A !important;
}
.sidebar .nav-row.active,
[data-role="sidebar"] .nav-row.active{
  background: #17181A !important;
  box-shadow: inset 0 0 0 2px var(--gold) !important;
}

/* Child lists */
.sidebar .leafList,
[data-role="sidebar"] .leafList{
  padding-left: calc(var(--nav-icon) + var(--nav-gap) + var(--nav-pad-x)) !important;
  margin-top: 4px !important;
  display: grid !important;
  gap: 2px !important;
}

/* Collapsed behavior (icon-only) */
.sidebar.collapsed .nav-row,
[data-role="sidebar"].collapsed .nav-row{
  grid-template-columns: var(--nav-icon) !important;
  justify-items: center !important;
  padding-left: calc((var(--sidebar-w-collapsed) - var(--nav-icon))/2) !important;
  padding-right: 8px !important;
}
.sidebar.collapsed .nav-row .label,
[data-role="sidebar"].collapsed .nav-row .label,
.sidebar.collapsed .expand,
[data-role="sidebar"].collapsed .expand{
  visibility: hidden !important;
  width: 0 !important;
  overflow: hidden !important;
  white-space: nowrap !important;
}

/* Fly-out on hover */
.sidebar.collapsed:hover .nav-row,
[data-role="sidebar"].collapsed:hover .nav-row{
  grid-template-columns: var(--nav-icon) minmax(0,1fr) auto !important;
  justify-items: start !important;
  padding: 8px var(--nav-pad-x) !important;
}
.sidebar.collapsed:hover .nav-row .label,
[data-role="sidebar"].collapsed:hover .nav-row .label,
.sidebar.collapsed:hover .expand,
[data-role="sidebar"].collapsed:hover .expand{
  visibility: visible !important;
  width: auto !important;
  overflow: visible !important;
}

/* Brand/logo normalization (pinned & fly-out) */
.sidebar .brand img,
[data-role="sidebar"] .brand img{
  display: block !important;
  height: clamp(28px, 6vw, 56px) !important;
  width: auto !important;
  object-fit: contain !important;
  margin: 18px auto 8px !important;
}

/* Remove any stray white seams/handles from stealing scroll */
.splitter, .resize-handle, .content-seam, .divider{
  pointer-events: none !important;
}

/* Make sure the main area scrolls independently */
.main, .content, .page-scroll{
  overflow: auto !important;
  height: 100% !important;
}

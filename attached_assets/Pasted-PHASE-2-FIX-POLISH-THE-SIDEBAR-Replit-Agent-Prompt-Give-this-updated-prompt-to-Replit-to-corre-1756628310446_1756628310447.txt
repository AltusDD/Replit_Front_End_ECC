PHASE 2: FIX + POLISH THE SIDEBAR â€” Replit Agent Prompt

Give this updated prompt to Replit to correct everything thatâ€™s missing or broken and apply the full design polish:

# Project: EstateCommand

## ðŸ”§ FIX & POLISH THE SIDEBAR (V2 Final)

Rebuild the sidebar from scratch using the correct wouter-only layout, then apply a full polish per the below:

---

## 1. FUNCTIONAL ISSUES TO FIX

âœ… Sidebar must:
- **Render on load** (not disappear)
- **Collapse and expand properly**
- **Auto-expand parent groups** when child is active
- **Highlight active page (leaf)** on route change
- **Pin/unpin correctly**, with persistent state (use localStorage)
- **Fly out** on hover when collapsed â€” show only icons by default

If any items/pages are missing, **create them as stubs** with a visible `h1` header.

---

## 2. VISUAL + INTERACTION POLISH

### ðŸ”³ Layout
- Altus **black background**: `#121417`
- Full height sidebar, fixed left
- Sidebar width: 280px; collapsed: 72px
- Hide all text on collapse â€” icons only
- Smooth animation when toggling or hovering

### ðŸŸ¨ Icons
Use [Lucide](https://lucide.dev/icons) icons via `lucide-react` for parent/child items.

- **Parent icons** (Altus Gold `#ffd400`)
- **Child icons** (Altus Light Blue or White)
- Logo should shrink on collapse and expand on fly-out

Add icons per this config:

```ts
{
  Dashboard: LayoutDashboard,
  Properties: Building,
  Units: Layers,
  Leases: FileText,
  Tenants: Users,
  Owners: UserCheck,
  Overview: BarChart3,
  Delinquencies: AlertCircle,
  Vacancy: DoorOpen,
  Accounting: Wallet,
  Leasing: Handshake,
  Maintenance: Hammer,
  Marketing: Megaphone
}

3. STRUCTURE (navConfig.ts)

Rebuild the full structure and include all expected sections (see prior instructions if needed). Use this shape:

type Leaf = { label: string; to: string; icon: string };
type Group = { label: string; icon: string; children: Leaf[] };
type Item = Leaf | Group;
type Section = { title?: string; items: Item[] };


Each icon is passed as a string name matching the Lucide icon.

4. STYLE (_ecc-override.css)

Scope all styles under .sidebar

No global side effects

Collapsed styles (icon-only, hover flyout)

Accordion animation on child groups

No scrollbar visible but allow scrolling

5. FILES TO BUILD/UPDATE

src/components/Sidebar.tsx â†’ Full layout + logic

src/components/layout/navConfig.ts â†’ Full structure with icon keys

src/styles/_ecc-override.css â†’ Full theme & animations

Stub any missing pages for known routes (see navConfig)

6. DO NOT:

Add react-router-dom

Modify routes or pages outside sidebar logic

Introduce custom themes or unrelated files

âœ… Confirm all sidebar features work:

Collapsing / expanding

Accordion groups

Active highlighting

Pin state persists

Fly-out text + logo


---

Let them finish this, then weâ€™ll do a **final polish pass** (fonts, hover shadows, etc). Let me know when the rebuild is pushed.

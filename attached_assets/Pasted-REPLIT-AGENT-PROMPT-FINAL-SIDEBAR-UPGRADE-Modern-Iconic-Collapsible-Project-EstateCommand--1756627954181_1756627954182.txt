REPLIT AGENT PROMPT â€” FINAL SIDEBAR UPGRADE (Modern, Iconic, Collapsible)
# Project: EstateCommand

## OBJECTIVE
Redesign and implement a polished sidebar with the following functional and visual expectations. Build on the working `wouter`-only version â€” do not introduce `react-router-dom`.

---

## ðŸ”² DESIGN SYSTEM REQUIREMENTS

### âœ… Layout & Interaction
- **Parent + Child structure**: All groups (e.g., "Portfolio V3", "Cards") should show their child items in accordion style.
- **On collapsed state**:
  - **Only icons visible**.
  - **Fly-out on hover** shows the full menu (icons + text) temporarily.
  - **Child text remains hidden on fly-out**, unless the user has selected that childâ€™s page.
- **Auto-expand groups** if one of the children matches the current location.
- **Pin button**:
  - Should sit **next to the top-level nav (not next to logo)**.
  - Should **disappear in collapsed mode**.

### âœ… Colors & Branding
- Altus Gold for **parent icons**: `#ffd400`
- Altus Alternate (light blue or white) for **child icons**
- Background: deep gray/black (`#121417`)
- Modern, smooth hover and active states

### âœ… Icons
Use modern icons (Lucide preferred, or similar) for:
- Dashboard
- Portfolio
  - Properties, Units, Leases, Tenants, Owners
- Cards
  - Overview, Delinquencies, Vacancy
- Operations
  - Accounting, Leasing, Maintenance, Marketing

Import from an icon library with minimal weight if not already present.

---

## ðŸ”² TECH CONSTRAINTS

- Use **wouter** only for routing.
- Do not touch any unrelated files (e.g., routes, App.tsx, theming).
- Scoped styles only â€” no global CSS overrides.
- If a routeâ€™s page does not exist, **create a stub page**.

---

## ðŸ”² FILES TO UPDATE OR CREATE

### 1. **`src/components/Sidebar.tsx`**
Update logic and structure to support:
- Icon-based layout
- Accordion behavior
- Hover fly-out text
- Collapse/pin toggle logic
- Active highlighting with expanded group
- Use proper ARIA roles

### 2. **`src/components/layout/navConfig.ts`**
Ensure this includes **ALL** expected parent + child structure:

```ts
export type Leaf = { label: string; to: string; icon: string };
export type Group = { label: string; icon: string; children: Leaf[] };
export type Item = Leaf | Group;
export type Section = { title?: string; items: Item[] };

const sections: Section[] = [
  {
    title: "Dashboard",
    items: [{ label: "Home", to: "/dashboard", icon: "LayoutDashboard" }],
  },
  {
    title: "Portfolio V3",
    items: [
      { label: "Properties", to: "/portfolio/properties", icon: "Building" },
      { label: "Units", to: "/portfolio/units", icon: "Layers" },
      { label: "Leases", to: "/portfolio/leases", icon: "FileText" },
      { label: "Tenants", to: "/portfolio/tenants", icon: "Users" },
      { label: "Owners", to: "/portfolio/owners", icon: "UserCheck" },
    ],
  },
  {
    title: "Cards",
    items: [
      { label: "Overview", to: "/cards/overview", icon: "BarChart3" },
      { label: "Delinquencies", to: "/cards/delinquencies", icon: "AlertCircle" },
      { label: "Vacancy", to: "/cards/vacancy", icon: "DoorOpen" },
    ],
  },
  {
    title: "Operations",
    items: [
      { label: "Accounting", to: "/operations/accounting", icon: "Wallet" },
      { label: "Leasing", to: "/operations/leasing", icon: "Handshake" },
      { label: "Maintenance", to: "/operations/maintenance", icon: "Hammer" },
      { label: "Marketing", to: "/operations/marketing", icon: "Megaphone" },
    ],
  },
];
export { sections };
export default sections;

3. src/styles/_ecc-override.css

Style for:

Collapsed mode icon-only

Fly-out drawer

Rounded corners, hover effects, Altus colors

Modern font and spacing

Hidden scrollbar but scrollable sidebar content

Shrinkable Altus logo (on collapse)

4. Page stubs

If missing, add placeholder pages with route paths:

/portfolio/properties, /portfolio/units, etc.

/cards/overview, etc.

Just show simple headers like h1>Properties Page as placeholder.

RESULT

Fully responsive, modern sidebar

Persistent collapse state

Active child â†’ open parent

Icon+label alignment

Hoverable fly-out (on collapsed)

No drift outside sidebar system

Let me know when complete and weâ€™ll move on to header or dashboard UI polish.


---

### âœ… Next Step

Copy and paste this into your Replit agent. Let them implement it fully.

When you're done, Iâ€™ll help you review and polish anything still off visually or functionally.

run = "npm run dev"
modules = ["nodejs-20"]

[env]
CI = "true"
NPM_CONFIG_AUDIT = "false"
NPM_CONFIG_FUND = "false"

[packager]
install = "npm ci || npm install"

hidden = [".cache", ".vite", "dist", "node_modules"]

[[ports]]
localPort = 5173
externalPort = 80

[workflows]
runButton = "run"

[[workflows.workflow]]
name = "run"
mode = "sequential"
author = 41942539

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "rm -rf .vite dist"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "npm install --no-audit --no-fund"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "PORT=${PORT:-5173} npm run dev"
